Das hier vorliegende Shiny-Tool wurde im Rahmen eines Forschungsprojektes im Jahr 2024 erstellt. Ziel des Projekts war es, das Vorkommen einzelner Tiergruppen in Abhängigkeit von bestimmten Parametern zu analysieren. Das Herzstück dieses Tools ist eine interaktive Karte, die es dem Nutzer ermöglicht, das Vorkommen der einzelnen Tierarten in Abhängigkeit von ausgewählten Parametern zu untersuchen.

Das Projekt ist speziell auf mich, Roberto Kätker, zugeschnitten und kann unter nicht vorgesehenen Bedingungen zu Fehlern führen. Aus Zeitgründen habe ich darauf verzichtet, alle möglichen Benutzerfehler abzufangen, weshalb ich in diesem Dokument kurz die Struktur des Codes erläutere und auf mögliche Probleme eingehe.

Die Datei main.r ist die Initialsequenz. Sie enthält alle zusätzlichen Pakete und lädt die weiteren Dateien. Die Datei function.r enthält alle von mir zusätzlich erstellten Funktionen, während die Datei plot.r alle von mir verwendeten Plots beinhaltet. In der Datei shiny.r befinden sich alle Code-Sequenzen für die Shiny-Oberfläche. Innerhalb der Shiny-Datei werden die Funktionen aus plot.r und function.r aufgerufen, um die jeweiligen Inhalte zu visualisieren. Die Funktionen in function.r und plot.r können jedoch auch unabhängig von der Shiny-Oberfläche genutzt werden, da alle Sequenzen in diesen Dateien jeweils als separate Funktionen gespeichert sind und somit einzeln abgerufen werden können.

Im Folgenden werde ich auf Einzelprobleme eingehen und nach und nach einige Codezeilen erklären sowie ihre Implikationen erläutern.
Visualisierung der Daten aus dem Jahr 2021:

Werden in Visualisierung I und Visualisierung III Daten aus dem Jahr 2021 hinzugefügt, ändert sich zunächst nichts an den Ergebnissen. Erst wenn alle Optionen bei den Filtern "Tageszeit" und "Niederschlag" entfernt werden, werden die Daten aus dem Jahr 2021 einbezogen. Dies liegt an der Funktionsweise der Filterfunktion sowie an den Besonderheiten der Daten aus 2021. In der Datei function.r ist eine eigene Filterfunktion definiert. Diese enthält spezifische Parameter für jede Kategorie (Temperatur, Tageszeit, Monat etc.), nach denen gefiltert werden kann, sowie einen Platz für den zu filternden Datensatz.

Die Filterfunktion prüft jede Zeile des Datensatzes, ob sie die übergebenen Parameter enthält. Wenn nicht, wird die Zeile aus dem Datensatz entfernt. Sind keine Parameter übergeben, wird in der entsprechenden Kategorie nicht gefiltert. Die Daten aus dem Jahr 2021 enthalten keine Informationen zur Tageszeit und zum Niederschlag und haben standardmäßig die Temperatur -10 Grad, da diese Daten leider nicht erhoben wurden. Wenn der Filter nun auf den Datensatz angewendet wird und das Jahr 2021 ausgewählt ist, jedoch nicht die oben genannten Parameter herausgenommen werden, entfernt die Filterfunktion alle Zeilen, die die Parameter nicht enthalten – was alle Daten aus 2021 betrifft. Nur wenn kein Parameter ausgewählt wurde, können die unvollständigen Daten korrekt abgebildet werden.

Dies ist auch der Grund, warum weiterhin Daten visualisiert werden, wenn alle Parameter abgewählt werden. Sind keine Parameter in einer bestimmten Kategorie ausgewählt, ignoriert die Filterfunktion diese Kategorie und bearbeitet den Datensatz nicht auf Basis dieser Kategorie. Diese Vorgehensweise hat sich in der Arbeit mit dem Tool als praktikabel erwiesen.
Weitere Fehlerquellen:

Ein häufiger auftretender Fehler in Visualisierung I ist, wenn kein Jahr ausgewählt wird. Dies liegt an der Struktur der Visualisierung. Die Auswahl des Jahres ist nicht nur für die Filterfunktion relevant, sondern auch für die Visualisierung selbst. Abhängig vom ausgewählten Jahr wird eine Vorlage mit 6 oder 8 Sektoren bereitgestellt. Ist kein Jahr ausgewählt, kann keine Vorlage bereitgestellt werden, und es kann keine Abbildung visualisiert werden.

In Visualisierung III kann folgender Fehler auftreten: "Ersetzung hat 1 Zeile, Daten haben 0." Dies bedeutet, dass Parameter ausgewählt wurden, bei denen keine Individuen gesichtet wurden und folglich keine Abbildungen erstellt werden können. Dies betrifft nur die Kreisdiagramme, da die Säulendiagramme aus einer Vorlage erstellt werden, die standardmäßig für alle möglichen Ausprägungen 0 annimmt und dann basierend auf dem gefilterten Datensatz angepasst wird. Für die Kreisdiagramme existiert keine solche Standardisierung
